---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "grafana-adaptive-metrics_ruleset Resource - terraform-provider-grafana-adaptive-metrics"
subcategory: ""
description: |-
  
---

# grafana-adaptive-metrics_ruleset (Resource)



## Example Usage

```terraform
# Apply an inline ruleset
resource "grafana-adaptive-metrics_ruleset" "default" {
  rules = [
    {
      "metric" : "cpu_usage_seconds_total",
      "drop_labels" : [
        "instance"
      ],
      "aggregations" : [
        "sum:counter"
      ],
    }
  ]
}

# Apply a ruleset from a file
resource "grafana-adaptive-metrics_ruleset" "default" {
  rules = jsondecode(file("${path.module}/rules.json"))
}

# Apply the latest recommendations on each apply
data "grafana-adaptive-metrics_recommendations" "default" {
}

resource "grafana-adaptive-metrics_ruleset" "default" {
  rules = data.grafana-adaptive-metrics_recommendations.default.recommendations
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `rules` (Attributes List) (see [below for nested schema](#nestedatt--rules))

### Optional

- `segment` (String) The name of the segment to aggregate metrics for.

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `metric` (String) The name of the metric to be aggregated.

Optional:

- `aggregation_delay` (String) The delay until aggregation is performed.
- `aggregation_interval` (String) The interval at which to generate the aggregated series.
- `aggregations` (List of String) The array of aggregation types to calculate for this metric.
- `drop` (Boolean) Set to true to skip both ingestion and aggregation and drop the metric entirely.
- `drop_labels` (List of String) The array of labels that will be aggregated.
- `keep_labels` (List of String) The array of labels to keep; labels not in this array will be aggregated.
- `match_type` (String) Specifies how the metric field matches to incoming metric names. Can be 'prefix', 'suffix', or 'exact', defaults to 'exact'.

## Import

Import is supported using the following syntax:

```shell
# Import the ruleset from the default segment
terraform import grafana-adaptive-metrics_ruleset.rules default

# Import the ruleset from a custom segment
terraform import grafana-adaptive-metrics_ruleset.rules $CUSTOM_SEGMENT_ID
```
